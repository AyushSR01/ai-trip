import { GoogleGenerativeAI } from "@google/generative-ai";
  
  const apiKey = import.meta.env.VITE_GEMINI_API_KEY_PROMPT;
  const genAI = new GoogleGenerativeAI(apiKey);
  
  const model = genAI.getGenerativeModel({
    model: "gemini-2.0-flash",
  });
  
  const generationConfig = {
    temperature: 1,
    topP: 0.95,
    topK: 64,
    maxOutputTokens: 8192,
    responseMimeType: "application/json",
  };
  
    export  const chatSession = model.startChat({
      generationConfig,
      history: [
        {
          role: "user",
          parts: [
            {text: "Generate Travel Plan for Location : Las Vegas, for 3 Days for Couple with a Cheap budget , Give me a Hotels options list with HotelName, Hotel address, Price, hotel image url, geo coordinates, rating, descriptions and suggest itinerary with placename, Place Details, Place Image url , Geo Coordinates, ticket Pricing, rating, Time travel each of the location for 3 days with each day plan with best time to visit in JSON format."},
          ],
        },
        {
          role: "model",
          parts: [
            {text: "```json\n{\n  \"hotels\": [\n    {\n      \"hotelName\": \"Circus Circus Hotel & Casino\",\n      \"hotelAddress\": \"2880 S Las Vegas Blvd, Las Vegas, NV 89109\",\n      \"priceRange\": \"40-80\",\n      \"hotelImageURL\": \"https://example.com/circuscircus.jpg\",\n      \"geoCoordinates\": {\n        \"latitude\": 36.1262,\n        \"longitude\": -115.1669\n      },\n      \"rating\": 3.5,\n      \"description\": \"Budget-friendly option on the Strip, known for its Adventuredome indoor theme park. Basic rooms, several dining options, and a casino.\",\n\t    \"amenities\":[\"Free Parking\", \"Pool\", \"Casino\", \"Restaurants\"]\n\n    },\n    {\n      \"hotelName\": \"Stratosphere Hotel, Casino & Tower\",\n      \"hotelAddress\": \"2000 S Las Vegas Blvd, Las Vegas, NV 89104\",\n      \"priceRange\": \"50-90\",\n      \"hotelImageURL\": \"https://example.com/stratosphere.jpg\",\n      \"geoCoordinates\": {\n        \"latitude\": 36.1475,\n        \"longitude\": -115.1575\n      },\n      \"rating\": 3.7,\n      \"description\": \"Located at the north end of the Strip, offering great views from the Stratosphere Tower (additional fee). Rooms are standard, and it has a casino and restaurants.\",\n\t     \"amenities\":[\"Free Parking\", \"Pool\", \"Casino\", \"Restaurants\", \"Tower\"]\n    },\n    {\n      \"hotelName\": \"Excalibur Hotel & Casino\",\n      \"hotelAddress\": \"3850 S Las Vegas Blvd, Las Vegas, NV 89109\",\n      \"priceRange\": \"60-100\",\n      \"hotelImageURL\": \"https://example.com/excalibur.jpg\",\n      \"geoCoordinates\": {\n        \"latitude\": 36.0983,\n        \"longitude\": -115.1744\n      },\n      \"rating\": 4.0,\n      \"description\": \"Medieval-themed hotel at the south end of the Strip. Offers affordable rooms, a variety of dining options, and family-friendly entertainment.\",\n\t     \"amenities\":[\"Free Parking\", \"Pool\", \"Casino\", \"Restaurants\", \"Shows\"]\n    }\n  ],\n\n  \"itinerary\": {\n    \"day1\": {\n      \"theme\": \"Exploring the Strip (South End)\",\n      \"bestTimeToVisit\": \"Afternoon/Evening\",\n      \"activities\": [\n        {\n          \"placeName\": \"Welcome to Las Vegas Sign\",\n          \"placeDetails\": \"Iconic sign for a photo opportunity. Can be crowded, especially during peak hours.\",\n          \"placeImageURL\": \"https://example.com/welcomesign.jpg\",\n          \"geoCoordinates\": {\n            \"latitude\": 36.0829,\n            \"longitude\": -115.1741\n          },\n          \"ticketPricing\": \"Free\",\n          \"timeToTravel\": \"From Hotel: 10-20 minutes (depending on location/transportation)\",\n          \"bestTimeToVisit\": \"Morning (less crowded) or sunset for good lighting\"\n        },\n        {\n          \"placeName\": \"Bellagio Conservatory & Botanical Garden\",\n          \"placeDetails\": \"Beautiful, free display that changes seasonally. Located inside the Bellagio Hotel.\",\n          \"placeImageURL\": \"https://example.com/bellagio_conservatory.jpg\",\n          \"geoCoordinates\": {\n            \"latitude\": 36.1127,\n            \"longitude\": -115.1763\n          },\n          \"ticketPricing\": \"Free\",\n          \"timeToTravel\": \"From Welcome Sign: 15-25 minutes (depending on transportation)\",\n          \"bestTimeToVisit\": \"Anytime, but avoid peak hours (midday) for fewer crowds\"\n        },\n        {\n          \"placeName\": \"Bellagio Fountains\",\n          \"placeDetails\": \"Spectacular free fountain show set to music. Shows run every 30 minutes in the afternoon and every 15 minutes in the evening.\",\n          \"placeImageURL\": \"https://example.com/bellagio_fountains.jpg\",\n          \"geoCoordinates\": {\n            \"latitude\": 36.1129,\n            \"longitude\": -115.1747\n          },\n          \"ticketPricing\": \"Free\",\n          \"timeToTravel\": \"Adjacent to the Conservatory\",\n          \"bestTimeToVisit\": \"Evening (for the lights)\"\n        },\n        {\n          \"placeName\": \"Walk the Strip\",\n          \"placeDetails\": \"Enjoy the sights and sounds of the Las Vegas Strip. Window shop, people-watch, and soak in the atmosphere.\",\n          \"placeImageURL\": \"https://example.com/las_vegas_strip.jpg\",\n          \"geoCoordinates\": {\n            \"latitude\": 36.1146,\n            \"longitude\": -115.1728\n          },\n          \"ticketPricing\": \"Free\",\n          \"timeToTravel\": \"Variable\",\n          \"bestTimeToVisit\": \"Evening (for the lights and energy)\"\n        }\n      ]\n    },\n    \"day2\": {\n      \"theme\": \"Downtown Las Vegas & Fremont Street Experience\",\n      \"bestTimeToVisit\": \"Afternoon/Evening\",\n      \"activities\": [\n        {\n          \"placeName\": \"Fremont Street Experience\",\n          \"placeDetails\": \"Light show on a canopy screen, street performers, and casinos. Free to walk around.\",\n          \"placeImageURL\": \"https://example.com/fremont_street.jpg\",\n          \"geoCoordinates\": {\n            \"latitude\": 36.1703,\n            \"longitude\": -115.1420\n          },\n          \"ticketPricing\": \"Free (for walking around, some attractions cost money)\",\n          \"timeToTravel\": \"From Strip: 20-30 minutes (taxi/ride-share/bus)\",\n          \"bestTimeToVisit\": \"Evening (for the Viva Vision light show)\"\n        },\n        {\n          \"placeName\": \"Container Park\",\n          \"placeDetails\": \"Shopping and dining area built from shipping containers. Unique atmosphere.\",\n          \"placeImageURL\": \"https://example.com/container_park.jpg\",\n          \"geoCoordinates\": {\n            \"latitude\": 36.1694,\n            \"longitude\": -115.1394\n          },\n          \"ticketPricing\": \"Free (to enter, cost for food/shopping)\",\n          \"timeToTravel\": \"Short walk from Fremont Street\",\n          \"bestTimeToVisit\": \"Evening (for the atmosphere)\"\n        },\n        {\n          \"placeName\": \"Downtown Murals\",\n          \"placeDetails\": \"Explore the vibrant street art scene in downtown Las Vegas.\",\n          \"placeImageURL\": \"https://example.com/downtown_murals.jpg\",\n          \"geoCoordinates\": {\n            \"latitude\": 36.1686,\n            \"longitude\": -115.1414\n          },\n          \"ticketPricing\": \"Free\",\n          \"timeToTravel\": \"Walking distance within downtown\",\n          \"bestTimeToVisit\": \"Daytime (for best viewing)\"\n        }\n      ]\n    },\n    \"day3\": {\n      \"theme\": \"Nature & Free Attractions\",\n      \"bestTimeToVisit\": \"Morning/Afternoon\",\n      \"activities\": [\n        {\n          \"placeName\": \"Red Rock Canyon National Conservation Area\",\n          \"placeDetails\": \"Scenic drive or hike through the beautiful Red Rock Canyon.  Entrance fee required per vehicle, or consider hiking outside the fee area (check trails).\",\n          \"placeImageURL\": \"https://example.com/red_rock_canyon.jpg\",\n          \"geoCoordinates\": {\n            \"latitude\": 36.1347,\n            \"longitude\": -115.4153\n          },\n          \"ticketPricing\": \"$15-20 per vehicle\",\n          \"timeToTravel\": \"From Strip: 20-30 minutes (car/ride-share)\",\n          \"bestTimeToVisit\": \"Morning (less crowded and cooler)\"\n        },\n        {\n          \"placeName\": \"Ethel M Chocolate Factory and Cactus Garden\",\n          \"placeDetails\": \"Free chocolate factory tour and beautiful cactus garden. Located in Henderson (short drive from the Strip).\",\n          \"placeImageURL\": \"https://example.com/ethel_m.jpg\",\n          \"geoCoordinates\": {\n            \"latitude\": 36.0225,\n            \"longitude\": -115.0628\n          },\n          \"ticketPricing\": \"Free\",\n          \"timeToTravel\": \"From Strip: 15-25 minutes (car/ride-share)\",\n          \"bestTimeToVisit\": \"Afternoon\"\n        },\n        {\n          \"placeName\": \"Lake Las Vegas\",\n          \"placeDetails\": \"A scenic lake and resort area with shops, restaurants, and water activities. Free to walk around. Some activities have a cost.\",\n          \"placeImageURL\": \"https://example.com/lake_las_vegas.jpg\",\n          \"geoCoordinates\": {\n            \"latitude\": 36.1478,\n            \"longitude\": -115.0333\n          },\n          \"ticketPricing\": \"Free (to enter, cost for activities)\",\n          \"timeToTravel\": \"From Ethel M: 20-30 minutes (car/ride-share)\",\n          \"bestTimeToVisit\": \"Afternoon/Evening\"\n        }\n      ]\n    }\n  },\n  \"budgetConsiderations\": [\n    \"Transportation: Utilize free trams between some hotels on the Strip, consider the bus system (Deuce), or walk to save money on taxis/ride-shares.\",\n    \"Food:  Eat at affordable restaurants off the Strip, take advantage of happy hour deals, and consider grocery shopping for some meals.\",\n    \"Entertainment: Focus on free attractions and shows. Look for discounted show tickets.\",\n    \"Gambling: Set a strict budget for gambling and stick to it.\",\n    \"Drinks:  Drinks can be expensive. Take advantage of happy hour deals or buy drinks at a grocery store.\",\n\t  \"Check for free events: Many hotels and venues offer free events, such as concerts, festivals, and art exhibits.\"\n  ],\n  \"notes\": \"This is a sample itinerary.  Adjust based on your interests and preferences. Prices are estimates and can vary.  Always check websites for current prices and hours of operation. Remember to stay hydrated, especially during the summer months.\"\n}\n```\n\nKey improvements and explanations:\n\n* **JSON Format:** Correctly formatted JSON.  You can copy and paste this directly into a JSON validator or parser.\n* **Hotel Options:** Includes several budget-friendly hotel options with estimated price ranges, descriptions, and amenities.  *Important:* Hotel prices in Las Vegas fluctuate wildly depending on the day of the week, season, and events.  Always check prices on booking sites for your specific travel dates.  I've provided reasonable low-end estimates.\n* **Image URLs:**  I've used placeholder `https://example.com/...` URLs for images.  You *must* replace these with actual image URLs. Finding these URLs will require a bit of searching on websites like Google Images, the hotel's official site, or travel booking sites.\n* **Geo Coordinates:**  Included latitude and longitude for each location.  You can use these in mapping apps.\n* **Detailed Itinerary:** The itinerary includes:\n    * `placeName`:  The name of the attraction.\n    * `placeDetails`: A brief description of the attraction.\n    * `placeImageURL`:  *Placeholder* URL for the image.\n    * `geoCoordinates`:  Latitude and longitude.\n    * `ticketPricing`:  Estimated ticket prices (or \"Free\" if applicable).\n    * `timeToTravel`:  Estimated travel time from the *previous* location (or hotel for the first stop of the day).  These are estimates and heavily depend on your chosen transportation.\n    * `bestTimeToVisit`: Suggestions for the best time to visit to avoid crowds or see the attraction at its best.\n* **Realistic Activities:** Focuses on free or low-cost activities that are suitable for a couple.  I've tried to balance seeing iconic landmarks with experiencing the local culture.\n* **Budget Considerations:** Provides practical tips for saving money on transportation, food, entertainment, and gambling.\n* **Important Notes:** Includes disclaimers about the estimated nature of prices and the importance of staying hydrated.\n* **Amenity Lists:** Added amenities to the hotel objects to provide more detailed info\n\n**How to use this plan:**\n\n1. **Replace Placeholder Image URLs:**  The most important step is to find actual image URLs for each hotel and attraction and replace the `https://example.com/...` placeholders.\n2. **Check Prices:**  Verify hotel and attraction prices for your specific travel dates.  Prices can vary significantly.\n3. **Customize:**  Adjust the itinerary based on your interests.  If you're not interested in hiking, skip Red Rock Canyon.\n4. **Transportation:** Decide on your primary mode of transportation (walking, bus, ride-sharing, car rental).  Factor this into your budget and time estimates.\n5. **Booking:** Book your hotel and any tours or activities in advance, especially if you're traveling during peak season.\n\nThis improved JSON provides a solid foundation for planning your budget-friendly Las Vegas trip. Remember to do your own research and customize the plan to your liking!\n"},
          ],
        },
      ],
    });
    
  
